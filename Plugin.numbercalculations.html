<html>
<head>
  <title>Testing Value Transformer</title>
  <script type="text/javascript" src="soyutils.js"></script>
  <script type="text/javascript" src="simple.js"></script>
</head>
<body>
  <script type="text/javascript">
// Your Value Transformer
var ValueTransformer = function () {

    this.displayName = "Number Calculations";
    this.shortDescription = "Perform basic calculations.";
    this.isEditingDisabled = true;
    
    this.parameters = function () {
        var popupDefaultValue = [
            { displayName: "Add +", value: "add" },
            { displayName: "Subtract -", value: "subtract" },
            { displayName: "Multiply *", value: "multiply" },
            { displayName: "Divide /", value: "divide" },
            { displayName: "Remainder", value: "remainder" },
        ];

        var popupUIParam = {
            name: "popupParam",
            type: "Popup",
            displayName: "Character Type",
            description: "Select Character type",
            defaultValue: popupDefaultValue
        };
        
        var numberUIParam = { 
            type: "Number",
            name: "number",
            displayName: "By Number",
            description: "Calculations by number.", 
            defaultValue: "0"
        };
        
        return [popupUIParam, numberUIParam];
    }
    
    this.transform = function (inputValue, jsonValue, arrayIndex, parameters, info) {
        
        var value = Number(inputValue);
		var type = (parameters.type.constructor == Array) ? "add" : parameters.type;
		var number = parameters.number;
		
		if (type == "add") {
			value = inputValue + number;
		}
		if (type == "subtract") {
			value = inputValue + number;
		}
		if (type == "multiply") {
            value = inputValue * number;
		}
		if (type == "divide") {
			value = inputValue / number;
		}
        if (type == "remainder") {
			value = inputValue % number;
		}
        
        return value;
    };
}

function sjeClass() {
    return new ValueTransformer();
}

// User selected fake parameters

var parameters = {
    
};
var inputValue = 100;
var jsonValue = "";
var arrayIndex = 0;

var plugin = new ValueTransformer();

for (var i = 0; i < 20; i++) {
    arrayIndex = i;
    var value = plugin.transform(inputValue,inputValue,arrayIndex, parameters);
    document.write(value + "</br>");
}
   
  </script>
</body>
</html>